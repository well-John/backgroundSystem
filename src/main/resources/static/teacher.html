<!DOCTYPE html>
<html>
<head>
<title></title>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
<link rel="stylesheet" href="./css/font.css">
<link rel="stylesheet" href="./css/xadmin.css">
<link rel="stylesheet" href="./css/bootstrap.min.css">
<link rel="stylesheet" href="./css/font-awesome.min.css">
<link rel="stylesheet" href="./css/main.css">
<script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="./lib/layui/layui.js" charset="utf-8"></script>
<script type="text/javascript" src="./js/xadmin.js"></script>
<script type="text/javascript" src="./js/bootstrap.min.js"></script>
	<script type="text/javascript" src="./js/vue.min.js"></script>
</head>
<body>
<div id="rrapp" v-cloak>
    <div  class="panel panel-default">
		<div class="panel-heading">{{title}}</div>
		<form class="form-horizontal">
											<div class="form-group">
			   	<div class="col-sm-2 control-label">昵称</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.nickname" placeholder="昵称"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">真实姓名</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.name" placeholder="真实姓名"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">密码</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.password" placeholder="密码"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">性别(0:男，1：女)</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.sex" placeholder="性别(0:男，1：女)"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">出生年月</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.birthday" placeholder="出生年月"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">最高学历</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.education" placeholder="最高学历"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">所学专业</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.major" placeholder="所学专业"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">就读大学</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.university" placeholder="就读大学"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">联系电话</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.phone" placeholder="联系电话"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">电子邮箱</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.email" placeholder="电子邮箱"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">自我描述</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.description" placeholder="自我描述"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">通讯地址</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.address" placeholder="通讯地址"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">辅导经验</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.teachingTime" placeholder="辅导经验"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">教授区域</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.teachingArea" placeholder="教授区域"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">教授科目</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.teachingSubject" placeholder="教授科目"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">外语水平</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.foreignLevel" placeholder="外语水平"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">家教经历</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.experience" placeholder="家教经历"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">头像</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.avatar" placeholder="头像"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">是否可用(0:可用，1：禁用)</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.isabled" placeholder="是否可用(0:可用，1：禁用)"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">职业(0:在校大学生，1：教师)</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.identity" placeholder="职业(0:在校大学生，1：教师)"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">QQ</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.qq" placeholder="qq"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">目前身份</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.currentStatus" placeholder="目前身份"/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">微信</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="teacher.wechat" placeholder="微信"/>
			    </div>
			</div>
							<div class="form-group">
				<div class="col-sm-2 control-label"></div> 
				<input type="button" class="btn btn-primary" @click="saveOrUpdate" value="确定"/>
				&nbsp;&nbsp;<input type="button" class="btn btn-warning"  value="返回"/>
			</div>
		</form>
	</div>
</div>
<script>


    $(function(){
        var vm = new Vue({
            el:'#rrapp',
            data:{
                title: null,
                teacher: {}
            },
            methods: {
                saveOrUpdate: function (event) {
                    var url = vm.teacher.id == null ? "teacher/save" : "teacher/update";
                    $.ajax({
                        type: "POST",
                        url: url,
                        contentType: "application/json",
                        data: JSON.stringify(vm.teacher),
                        success: function(r){
                            if(r.code == 100){
                               alert("操作成功");
                                var index = parent.layer.getFrameIndex(window.name);
                                //关闭当前frame
                                parent.layer.close(index);
                                parent.reload(null);
                            }else{
                                alert(r.msg);
                            }
                        }
                    });
                }
            }
        });
        if(parent.getCheckLength() == 1){
            vm.teacher = parent.getcheckData()[0];
        }
	})
</script>
</body>
</html>